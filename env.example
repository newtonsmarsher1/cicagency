# M-Pesa Payment API Environment Configuration

# Server Configuration
PORT=2001
NODE_ENV=development
BASE_URL=http://localhost:2001

# M-Pesa API Configuration
# For Sandbox (Testing)
MPESA_BASE_URL=https://sandbox.safaricom.co.ke
MPESA_CONSUMER_KEY=your_sandbox_consumer_key
MPESA_CONSUMER_SECRET=your_sandbox_consumer_secret
MPESA_BUSINESS_SHORT_CODE=your_business_short_code
MPESA_PASSKEY=your_passkey

# For Production (Live)
# MPESA_BASE_URL=https://api.safaricom.co.ke
# MPESA_CONSUMER_KEY=your_production_consumer_key
# MPESA_CONSUMER_SECRET=your_production_consumer_secret
# MPESA_BUSINESS_SHORT_CODE=your_production_business_short_code
# MPESA_PASSKEY=your_production_passkey

# Callback URLs (Update these with your actual domain)
# M-Pesa callbacks must be backend API endpoints (server-to-server)
MPESA_CALLBACK_URL=https://cicagency.onrender.com/api/mpesa/callback
MPESA_TIMEOUT_URL=https://cicagency.onrender.com/api/mpesa/timeout

# Database Configuration - PostgreSQL (e.g., Neon / Supabase)
# Replace with your actual connection string. Do NOT commit secrets.
# Example (Neon pooled):
# POSTGRES_URL=postgresql://neondb_owner:password@your-neon-host-pooler.aws.neon.tech/neondb?sslmode=require&channel_binding=require
POSTGRES_URL=
# Optional pooled URL (if provided separately)
POSTGRES_PRISMA_URL=
# Optional non-pooled direct URL
POSTGRES_URL_NON_POOLING=

# Legacy MySQL configuration (only if you still run MySQL locally)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=cic
DB_USER=root
DB_PASSWORD=Caroline

# Security
JWT_SECRET=your_jwt_secret_key
API_KEY=your_api_key

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Email Configuration for Password Reset
# Choose provider: 'gmail', 'smtp', 'sendgrid', or 'none'
EMAIL_PROVIDER=gmail

# Gmail/SMTP Configuration (Recommended)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM=noreply@cicagency.com

# SendGrid Configuration (Alternative)
# SENDGRID_API_KEY=your_sendgrid_api_key

# SMS/WhatsApp Configuration for Password Reset
# Choose provider: 'africas_talking', 'twilio', 'whatsapp', or 'none'
SMS_PROVIDER=africas_talking

# Africa's Talking Configuration (Recommended for Kenya/Africa)
AFRICAS_TALKING_API_KEY=your_africas_talking_api_key
AFRICAS_TALKING_USERNAME=your_africas_talking_username
AFRICAS_TALKING_SENDER_ID=CIC

# Twilio Configuration (Alternative)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# WhatsApp Business API Configuration (Alternative)
WHATSAPP_BUSINESS_ID=your_whatsapp_business_id
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id

